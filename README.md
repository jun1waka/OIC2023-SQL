# OIC2023-SQL

＜テスト＞

1. データベースについての説明である。空白を埋める言葉を選べ

データベースとは、データ分析や管理を目的としてさまざまな情報を収集・蓄積したものですが、その実体は（１）です。これは、（２）と呼ばれるプログラムによって管理され、私たちはこれに（３）を送信してデータを操作することができます。また、表形式でデータを管理するデータベースを特に（４）といい、表はデータの要素となる（５）と、1つのデータに対応する（６）から成り立ちます。

選択肢：
（ａ）リレーショナルデータベース　（ｂ）カード　（ｃ）表　（ｄ）シート　（ｅ）行　（ｆ）列
（ｇ）データベース管理システム　（ｈ）オペレーティングシステム　（ｉ）ISO　（ｊ）SQL　（ｋ）ファイル

2. SQLに共通する基本ルールについて空白を埋める言葉を選べ

・文の途中で改行をいれることが（１）
・行の先頭や行の途中に（２）を入れることが（１）
・ハイフン２つ（--）から行末までは（３）となる
・/*から*/までは（３）となる
・SELECTやWHEREなどの命令に使う単語はSQLとして特別な意味を持つ（４）である
・（４）を記述する際は、大文字と小文字の区別は（５）
・テーブル名や列名に（４）を利用することは（６）

選択肢：
（ａ）できる　（ｂ）できない　（ｃ）タイトル　（ｄ）コメント　（ｅ）予約語　（ｆ）命令語
（ｇ）ある　（ｈ）ない　（ｉ）半角の空白　（ｊ）全角の空白

3. 次の表の空欄に入るSQLの予約語を答えてください。

| 操作 | 検索 | 更新 | 削除 | 追加 |
|------|------|------|------|------|
| 命令 |（１）|（２）|（３）|（４）|
| テーブルの指定 |（５）|なし|（６）|（７）|
| 条件の指定 |（８）|なし|      |      |

4. 次の情報を格納するための適切なデータ型を選べ

（１）30000（金額）
（２）すっきりわかるＳＱＬ入門（書籍名）
（３）2018-02-20（日付）
（４）1.41421356（小数）
（５）10時35分（時間）
（６）125,358,854（大きな数）
（７）101-0075（郵便番号）

選択肢：
（ａ）INTEGER形　（ｂ）DECIMAL形　（ｃ）CHAR形　（ｄ）VARCHAR形　（ｅ）DATE型　（ｆ）TIME形

5. SQLの4つの命令の分類について適切な言葉を選べ

・処理方法による分類
　（１）SELECT　（２）UPDATE DELETE INSERT
・データによる分類
　（３）SELECT UPDATE DELETE （４）INSERT

選択肢：
（ａ）新規系　（ｂ）更新系　（ｃ）既存系　（ｄ）検索系

6. 次のSQLの間違いを修正せよ

SELECT * FROM 家計簿 WHERE 出金額 IS NULL

7. WHERE句を使うことができるSQLの命令をすべて記述せよ

SELECT、UPDATE、DELETE

8. ある都市の1年間の毎月の気象データを記録した気象観測テーブルがあります。

気象観測テーブル
| 列名 | データ型 | 備考       |
|------|----------|------------|
| 月   | INTEGER  | 1～12のいずれかの値 |
| 降水量 | INTEGER  | 観測データがない場合はNULL |
| 最高気温 | INTEGER  | 観測データがない場合はNULL |
| 最低気温 | INTEGER  | 観測データがない場合はNULL |
| 湿度   | INTEGER  | 観測データがない場合はNULL |

このテーブルについて次のデータを取得するSQL文を作成せよ

（１）6月のデータ
（２）3月、5月、7月のデータ（※2通りの回答がありますがどちらかでかまいません）
（３）最低気温が5未満か、最高気温が35より高いデータ

9. SELECT文で取得したデータを加工するキーワードについて正しいものを選べ

（１）重複行を除外する
（２）結果を並び替える
（３）行を限定して取得する
（４）結果を集合演算する

選択肢：
（ａ）GROUP BY　（ｂ）UNION　（ｃ）ORDER BY　（ｄ）DISTINCT　（ｅ）HAVING　（ｆ）OFFSET FETCH

10. SQLの計算式・関数についての説明で正しいものをすべて選べ

（ａ）列やリテラルを使った式で結果が真または偽にならないものを計算式という
（ｂ）計算式はSELECTの選択列リストにしか使えない
（ｃ）文字列の連結は||や＋の演算子を使う
（ｄ）関数は、引数に対して決められた処理を行い、戻り値に変換する。
（ｅ）文字列関数のLENGTH()は文字列の長さを調べる関数である

11. 次のテーブルはある試験結果の一部を記録したものです。受験者ID列は6桁のVARCHAR型、それ以外はINTEGER型です。

試験結果テーブル
| 受験者ID | 午前 | 午後１ | 午後２ | 論述 | 平均点 |
|---------|-----|-------|-------|-----|-------|
| SW1046  | 86  |（１）  | 68  | 91  | 80    |
| SW1350  | 65  | 53    | 70  |（２）| 68    |
| SW1877  |（３）| 59    | 56  | 36  | 56    |

（１）～（３）の点数を計算して登録するUPDATE文をそれぞれ作成せよ

12. 集計関数についての説明で間違えているものをすべて選べ

（ａ）検索対象の行をひとまとめに扱い、1回だけ集計処理を行う
（ｂ）集計関数の結果は、必ず1行になる
（ｃ）COUNT(列)の結果とCOUNT(*)は同じ結果になる
（ｄ）集計関数はWHERE句で使用できる
（ｅ）GROUP BY句を使うと集計結果が表の形で取得できる

13. 次のSQLのうち、集計関数の原則としてエラーとなるもの選べ
     ただし、SQLで使用されている販売履歴テーブルにはID、日付、商品名、商品区分、価格の列があるものとする

（ａ）SELECT COUNT(*) FROM 販売履歴;
（ｂ）SELECT 商品名 , COUNT(*) FROM 販売履歴;
（ｃ）SELECT COUNT(*) FROM 販売履歴 GROUP BY 商品名
（ｄ）SELECT 商品名 , COUNT(*) FROM 販売履歴 GROUP BY 商品名
（ｅ）SELECT 商品区分, 商品名 , COUNT(*) FROM 販売履歴 GROUP BY 商品名
（ｆ）SELECT 商品区分, 商品名 , COUNT(*) FROM 販売履歴 GROUP BY 商品区分 , 商品名 HAVING AVG(価格) >= 10000;

14. 以下はサブクエリに関する説明である。空白を埋める言葉を選べ

SQL文の中に別のSELECT文を記述することができ、これを（１）という。
（１）は実行すると何らかの（２）に置き換わる
（１）はより（３）にあるものから（４）に向かって順に評価されていく
（１）の結果が1行1列になるものを（５）という。（６）文の選択列リストやUPDATE文の（７）句などで利用できる
（１）の結果がn行1列になるものを（８）という。比較演算子と組み合わせることで、このような複数の値と比較ができる（９）演算子や（１０）演算子を使ったWHERE句の条件に用いることが多い

選択肢：
（ａ）クエリ　（ｂ）サブクエリ（副問い合わせ）　（ｃ）行　（ｄ）列　（ｅ）値　（ｆ）内側　（ｇ）外側　（ｈ）複数行副問い合わせ　（ｉ）単一行副問い合わせ
（ｊ）IN　（ｋ）ANY　（ｌ）ALL　（ｍ）FROM　（ｎ）SELECT　（ｏ）SET

15. 結合についての説明で間違っているものを選べ

（ａ）結合を用いることで、複数のテーブルに格納された関連するデータを1つの結果表として取り出すことができる
（ｂ）結合を行う相手テーブルを指定するためにJOIN句を、結合条件を指定するためにON句を記述する。
（ｃ）内部結合を用いると、結合相手がいない場合行を結果表に出力させることができる。
（ｄ）3テーブル以上の結合も、順に1つずつ処理される。

16. 次のようなテーブルAとテーブルBがあります。以下のSQLを実行したときの結果表を記述せよ

テーブルA
| A1 | A2 |
|----|----|
| 1  | 3  |
| 2  | 4  |

テーブルB
| B1 | B2  |
|----|-----|
| 1  | 2   |
| 3  | NULL|

（１）SELECT A1,A2,B1,B2 FROM A JOIN B ON A.A1 = B.B1;
（２）SELECT A1,A2,B1,B2 FROM B JOIN A ON B.B2 = A.A1;
（３）SELECT A1,A2,B1,B2 FROM B LEFT JOIN A ON B.B2 = A.A1;
（４）SELECT A.A1,C.A2,B1,B2 FROM A JOIN B ON A.A1 = B.B1 JOIN A AS C ON B.B1 = C.A1
